{
  node ('testing') {

    checkout scm

    dir('app') {
      
      stage('Checkout the address-service application') {
        git url: 'https://github.com/ivanp81/address-service.git', branch: "${GIT_BRANCH}"
      }

      stage('Run Unit/Integration Tests, generate the jar artifact and push it to Artifactory') {
        container('maven') {
          sh 'mvn clean verify'
        }
      }
    }
  }
}
